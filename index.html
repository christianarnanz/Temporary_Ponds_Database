// ---------------------- MAPAS BASE IGN ----------------------

const pnoaActual = L.tileLayer(
  "https://www.ign.es/wmts/pnoa-ma?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=OI.OrthoimageCoverage&STYLE=default&TILEMATRIXSET=GoogleMapsCompatible&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&FORMAT=image/jpeg",
  { maxZoom: 19, attribution: "¬© IGN ‚Äì PNOA" }
);

const mtnRaster = L.tileLayer(
  "https://www.ign.es/wmts/ign-base?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=IGNBaseTodo&STYLE=default&TILEMATRIXSET=GoogleMapsCompatible&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&FORMAT=image/png",
  { maxZoom: 18, attribution: "¬© IGN ‚Äì Mapa Base" }
);

const mapaRasterIGN = L.tileLayer(
  "https://www.ign.es/wmts/mapa-raster?SERVICE=WMTS&VERSION=1.0.0&REQUEST=GetTile&LAYER=MapaRaster&STYLE=default&TILEMATRIXSET=GoogleMapsCompatible&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&FORMAT=image/png",
  { maxZoom: 19, attribution: "¬© IGN ‚Äì Mapa Raster" }
);

const mtb50 = L.tileLayer(
  "https://www.ign.es/wmts/mtb?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=MTB&STYLE=default&TILEMATRIXSET=GoogleMapsCompatible&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&FORMAT=image/jpeg",
  { maxZoom: 18, attribution: "¬© IGN ‚Äì MTN50" }
);

const mtn25 = L.tileLayer(
  "https://www.ign.es/wmts/mtn?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=MTN&STYLE=default&TILEMATRIXSET=GoogleMapsCompatible&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&FORMAT=image/jpeg",
  { maxZoom: 18, attribution: "¬© IGN ‚Äì MTN25" }
);

const vuelo1956 = L.tileLayer(
  "https://www.ign.es/wmts/pnoa-historico?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=FOT_1956_57&STYLE=default&TILEMATRIXSET=GoogleMapsCompatible&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&FORMAT=image/jpeg",
  { maxZoom: 19, attribution: "¬© IGN ‚Äì Vuelo Americano 1956/57" }
);

const primeraEdicionMTN = L.tileLayer(
  "https://www.ign.es/wmts/primera-edicion-mtn?SERVICE=WMTS&VERSION=1.0.0&REQUEST=GetTile&LAYER=MTN50_ED50&STYLE=default&TILEMATRIXSET=GoogleMapsCompatible&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&FORMAT=image/jpeg",
  { maxZoom: 18, attribution: "¬© IGN ‚Äì Primera edici√≥n MTN" }
);

// Activar por defecto
pnoaActual.addTo(map);

// Control de capas
const baseMaps = {
  "üõ∞Ô∏è PNOA Actual": pnoaActual,
  "üìö Mapa Base IGN (vectorial)": mtnRaster,
  "üó∫Ô∏è Mapa Raster IGN (raster oficial)": mapaRasterIGN,
  "üó∫Ô∏è MTN25 (Topogr√°fico 1:25.000)": mtn25,
  "üó∫Ô∏è MTN50 (Topogr√°fico 1:50.000)": mtb50,
  "üì∏ Vuelo Americano 1956/57": vuelo1956,
  "üó∫Ô∏è Primera Edici√≥n MTN (hist√≥rico)": primeraEdicionMTN
};

L.control.layers(baseMaps, null, { position: 'topright', collapsed: true }).addTo(map);
